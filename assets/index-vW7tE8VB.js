import{r as p,R as m,u as w,j as l,a as I,c as S,b as M,d as z}from"./index-CeRra0FT.js";const B=(e=!1)=>{const[t,n]=p.useState(e),r=()=>{n(!0)},a=()=>{n(!1)},i=()=>{n(c=>!c)};return p.useEffect(()=>{const c=u=>{u.key==="Escape"&&n(!1)};return t&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[t,n]),{isOpen:t,openModal:r,closeModal:a,toggleModal:i}},_=e=>e.boards.items;var O={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},y=m.createContext&&m.createContext(O),U=["attr","size","title"];function L(e,t){if(e==null)return{};var n=R(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function R(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(r){A(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A(e,t,n){return t=V(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t=H(e,"string");return typeof t=="symbol"?t:t+""}function H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N(e){return e&&e.map((t,n)=>m.createElement(t.tag,f({key:n},t.attr),N(t.child)))}function x(e){return t=>m.createElement(k,h({attr:f({},e.attr)},t),N(e.child))}function k(e){var t=n=>{var{attr:r,size:a,title:i}=e,c=L(e,U),u=a||n.size||"1em",o;return n.className&&(o=n.className),e.className&&(o=(o?o+" ":"")+e.className),m.createElement("svg",h({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:o,style:f(f({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&m.createElement("title",null,i),e.children)};return y!==void 0?m.createElement(y.Consumer,null,n=>t(n)):t(O)}function T(e){return x({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(e)}function F(e){return x({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(e)}function D(e){return x({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"},child:[]}]})(e)}function W(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function K(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}let g;const G=new Uint8Array(16);function q(){if(!g){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");g=crypto.getRandomValues.bind(crypto)}return g(G)}const J=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),b={randomUUID:J};function Q(e,t,n){var a;if(b.randomUUID&&!e)return b.randomUUID();e=e||{};const r=e.random??((a=e.rng)==null?void 0:a.call(e))??q();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,K(r)}const X=()=>{const e=Q().replace(/-/g,""),t=Math.random()*11+9;return e.slice(0,t)},j=({isModalOpen:e,handleCloseModal:t,boardData:n})=>{const r=w(),a=i=>{i.preventDefault();const c=i.currentTarget,u=c.elements.namedItem("name");if(n){const o={_id:n==null?void 0:n._id,name:u.value,hashedId:n.hashedId};r(I(o))}else{const o={name:u.value,hashedId:X()};r(S(o))}c.reset(),t()};return e&&l.jsx("div",{className:"bg-[rgba(0,0,0,0.5)] absolute top-0 left-0 w-full h-full z-0",onClick:t,children:l.jsxs("div",{className:"bg-white absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] rounded-xl p-5 min-h-[200px]",onClick:i=>i.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl",children:"Add Board"}),l.jsx("button",{className:"inline-flex items-center",type:"button",onClick:t,children:l.jsx(W,{className:"w-6 h-6"})})]}),l.jsxs("form",{className:"mt-4 flex gap-3 flex-col",onSubmit:i=>a(i),children:[l.jsxs("p",{id:"hashedId",children:["Board id: ",n==null?void 0:n.hashedId]}),l.jsx("label",{htmlFor:"name",children:"Name"}),l.jsx("input",{type:"text",name:"name",placeholder:"Enter board`s name...",className:"border border-gray-400 rounded-sm p-3",defaultValue:n?n.name:""}),l.jsx("button",{type:"submit",className:"bg-gray-300 h-9 w-20 px-4 py-4 rounded-md text-sm inline-flex items-center justify-center self-end",children:"Send"})]})]})})},Z=()=>{const e=M(_),t=w(),[n,r]=p.useState("add"),[a,i]=p.useState(),{isOpen:c,openModal:u,closeModal:o}=B(!1),P=()=>{u(),r("add")},E=d=>{d&&t(z(d))},C=d=>{u(),r("edit"),i(d)};return l.jsxs("div",{className:"p-4",children:[l.jsx("button",{className:"mt-7 inlibe-flex rounded-full p-2 bg-gray-400",type:"button",onClick:P,children:l.jsx(T,{className:"fill-white w-[20px] h-[20px]"})}),l.jsx("ul",{className:"mt-4 flex gap-[20px] flex-wrap items-center",children:e.map(d=>l.jsxs("li",{className:"w-[190px] h-[190px] p-2.5 bg-gray-200 relative flex flex-col items-center justify-center","data-id":d._id,children:[l.jsx("p",{className:"text-sm text-gray-500 absolute top-1 left-1",children:d.hashedId}),l.jsx("div",{className:"text-md",children:d.name}),l.jsxs("div",{className:"absolute bottom-[10px] flex gap-2.5",children:[l.jsx("button",{type:"button",onClick:()=>C(d),children:l.jsx(D,{className:"w-[20px] h-[20px]"})}),l.jsx("button",{type:"button",onClick:()=>E(d._id),children:l.jsx(F,{className:"w-[20px] h-[20px] hover:fill-red-500"})})]})]},d._id))}),n==="add"?l.jsx(j,{isModalOpen:c,handleCloseModal:o}):l.jsx(j,{isModalOpen:c,handleCloseModal:o,boardData:a})]})};export{Z as default};
